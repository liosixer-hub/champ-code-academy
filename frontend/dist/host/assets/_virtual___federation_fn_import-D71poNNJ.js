const e="[0-9A-Za-z-]+",r=`(?:\\+(${e}(?:\\.${e})*))`,t="0|[1-9]\\d*",n="[0-9]+",$="\\d*[a-zA-Z-][a-zA-Z0-9-]*",i=`(?:${n}|${$})`,o=`(?:${t}|${$})`,s=`(?:-(${o}(?:\\.${o})*))`,a=`${t}|x|X|\\*`,u=`[v=\\s]*(${a})(?:\\.(${a})(?:\\.(${a})(?:${s})?${r}?)?)?`,c=`^\\s*(${u})\\s+-\\s+(${u})\\s*$`,f="((?:<|>)?=?)",l=`(\\s*)${f}\\s*(${`[v=\\s]*${`(${n})\\.(${n})\\.(${n})`}${`(?:-?(${i}(?:\\.${i})*))`}?${r}?`}|${u})`,p="(?:~>?)",d=`(\\s*)${p}\\s+`,m="(?:\\^)",_=`(\\s*)${m}\\s+`,h=`^${m}${u}$`,j=`^${p}${u}$`,v=`^${f}\\s*${u}$`,w=`^${f}\\s*(${`v?${`(${t})\\.(${t})\\.(${t})`}${s}?${r}?`})$|^$`;function g(e){return new RegExp(e)}function b(e){return!e||"x"===e.toLowerCase()||"*"===e}function y(...e){return r=>e.reduce((e,r)=>r(e),r)}function R(e){return e.match(g(w))}function z(e,r,t,n){const $=`${e}.${r}.${t}`;return n?`${$}-${n}`:$}function O(e){return e.replace(g(c),(e,r,t,n,$,i,o,s,a,u,c,f)=>`${r=b(t)?"":b(n)?`>=${t}.0.0`:b($)?`>=${t}.${n}.0`:`>=${r}`} ${s=b(a)?"":b(u)?`<${+a+1}.0.0-0`:b(c)?`<${a}.${+u+1}.0-0`:f?`<=${a}.${u}.${c}-${f}`:`<=${s}`}`.trim())}function k(e){return e.replace(g(l),"$1$2$3")}function x(e){return e.replace(g(d),"$1~")}function L(e){return e.replace(g(_),"$1^")}function q(e){return e.trim().split(/\s+/).map(e=>e.replace(g(h),(e,r,t,n,$)=>b(r)?"":b(t)?`>=${r}.0.0 <${+r+1}.0.0-0`:b(n)?"0"===r?`>=${r}.${t}.0 <${r}.${+t+1}.0-0`:`>=${r}.${t}.0 <${+r+1}.0.0-0`:$?"0"===r?"0"===t?`>=${r}.${t}.${n}-${$} <${r}.${t}.${+n+1}-0`:`>=${r}.${t}.${n}-${$} <${r}.${+t+1}.0-0`:`>=${r}.${t}.${n}-${$} <${+r+1}.0.0-0`:"0"===r?"0"===t?`>=${r}.${t}.${n} <${r}.${t}.${+n+1}-0`:`>=${r}.${t}.${n} <${r}.${+t+1}.0-0`:`>=${r}.${t}.${n} <${+r+1}.0.0-0`)).join(" ")}function A(e){return e.trim().split(/\s+/).map(e=>e.replace(g(j),(e,r,t,n,$)=>b(r)?"":b(t)?`>=${r}.0.0 <${+r+1}.0.0-0`:b(n)?`>=${r}.${t}.0 <${r}.${+t+1}.0-0`:$?`>=${r}.${t}.${n}-${$} <${r}.${+t+1}.0-0`:`>=${r}.${t}.${n} <${r}.${+t+1}.0-0`)).join(" ")}function U(e){return e.split(/\s+/).map(e=>e.trim().replace(g(v),(e,r,t,n,$,i)=>{const o=b(t),s=o||b(n),a=s||b($);return"="===r&&a&&(r=""),i="",o?">"===r||"<"===r?"<0.0.0-0":"*":r&&a?(s&&(n=0),$=0,">"===r?(r=">=",s?(t=+t+1,n=0,$=0):(n=+n+1,$=0)):"<="===r&&(r="<",s?t=+t+1:n=+n+1),"<"===r&&(i="-0"),`${r+t}.${n}.${$}${i}`):s?`>=${t}.0.0${i} <${+t+1}.0.0-0`:a?`>=${t}.${n}.0${i} <${t}.${+n+1}.0-0`:e})).join(" ")}function V(e){return e.trim().replace(g("(<|>)?=?\\s*\\*"),"")}function Z(e,r){return(e=+e||e)>(r=+r||r)?1:e===r?0:-1}function E(e,r){return Z(e.major,r.major)||Z(e.minor,r.minor)||Z(e.patch,r.patch)||function(e,r){const{preRelease:t}=e,{preRelease:n}=r;if(void 0===t&&n)return 1;if(t&&void 0===n)return-1;if(void 0===t&&void 0===n)return 0;for(let $=0,i=t.length;$<=i;$++){const e=t[$],r=n[$];if(e!==r)return void 0===e&&void 0===r?0:e?r?Z(e,r):-1:1}return 0}(e,r)}function T(e,r){return e.version===r.version}function C(e,r){switch(e.operator){case"":case"=":return T(e,r);case">":return E(e,r)<0;case">=":return T(e,r)||E(e,r)<0;case"<":return E(e,r)>0;case"<=":return T(e,r)||E(e,r)>0;case void 0:return!0;default:return!1}}function M(e,r){if(!e)return!1;const t=function(e){return y(O,k,x,L)(e.trim()).split(/\s+/).join(" ")}(r),n=t.split(" ").map(e=>function(e){return y(q,A,U,V)(e)}(e)).join(" "),$=n.split(/\s+/).map(e=>e.trim().replace(g("^\\s*>=\\s*0.0.0\\s*$"),"")),i=R(e);if(!i)return!1;const[,o,,s,a,u,c]=i,f={version:z(s,a,u,c),major:s,minor:a,patch:u,preRelease:null==c?void 0:c.split(".")};for(const l of $){const e=R(l);if(!e)return!1;const[,r,,t,n,$,i]=e;if(!C({operator:r,version:z(t,n,$,i),major:t,minor:n,patch:$,preRelease:null==i?void 0:i.split(".")},f))return!1}return!0}const P={},X={react:{get:()=>()=>F(new URL("__federation_shared_react-m-P6XTOV.js",import.meta.url).href),import:!0},"react-dom":{get:()=>()=>F(new URL("__federation_shared_react-dom-BF6YG3Es.js",import.meta.url).href),import:!0},zustand:{get:()=>()=>F(new URL("__federation_shared_zustand-Dpg2myqe.js",import.meta.url).href),import:!0}},B=Object.create(null);async function D(e,r="default"){return B[e]?new Promise(r=>r(B[e])):await async function(e,r){let t=null;if(globalThis?.__federation_shared__?.[r]?.[e]){const n=globalThis.__federation_shared__[r][e],$=X[e]?.requiredVersion;if(!!$){const r=Object.keys(n).find(e=>M(e,$));if(r){const e=n[r];t=await(await e.get())()}else console.log(`provider support ${e}(${r}) is not satisfied requiredVersion(\${moduleMap[name].requiredVersion})`)}else{const e=n[Object.keys(n)[0]];t=await(await e.get())()}}if(t)return G(t,e)}(e,r)||async function(e){if(X[e]?.import){return G(await(await X[e].get())(),e)}console.error("consumer config import=false,so cant use callback shared module")}(e)}async function F(e){return P[e]??=import(e),P[e]}function G(e,r){return"function"==typeof e.default?(Object.keys(e).forEach(r=>{"default"!==r&&(e.default[r]=e[r])}),B[r]=e.default,e.default):(e.default&&(e=Object.assign({},e.default,e)),B[r]=e,e)}export{D as i};
